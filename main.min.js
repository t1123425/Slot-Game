var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,a){function o(t){try{h(n.next(t))}catch(e){a(e)}}function r(t){try{h(n["throw"](t))}catch(e){a(e)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,r)}h((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,a&&(o=a[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,a=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(n){i=[6,n],a=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,a,o,r,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},Effect=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.coin=function(){var t=RES.getRes("coinImg"),e=RES.getRes("coinMap"),i=new egret.MovieClipDataFactory(e,t),n=new egret.MovieClip(i.generateMovieClipData("spinning_coin"));return n.play(-1),n},e.prototype.firework=function(){var t=RES.getRes("cash"),e=RES.getRes("firework"),i=(RES.getRes("sun"),RES.getRes("jellyFish"),new particle.GravityParticleSystem(t,e));return i},e.prototype.drawLine=function(t,e,i,n,s){var a=new egret.Shape;return a.graphics.lineStyle(15,s),a.graphics.moveTo(0,n),a.graphics.lineTo(t,n),a.graphics.endFill(),a},e.prototype.addfilters=function(t){var e=3,i=new egret.GlowFilter(t,.8,35,35,2,e);return i},e.prototype.bounsMeg=function(t,e,i){var n=new egret.Sprite,s=new egret.TextField,a=new egret.TextField;n.width=t,n.anchorOffsetY=500,s.text="YOU WIN !!",s.width=t,s.height=420,s.textColor=16711680,s.size=60,s.textAlign=egret.HorizontalAlign.CENTER,s.verticalAlign=egret.VerticalAlign.BOTTOM,a.text="$ "+i,a.size=150,a.width=t,a.height=e/2+100,a.textColor=16777215,a.strokeColor=16711680,a.stroke=2,a.textAlign=egret.HorizontalAlign.CENTER,a.verticalAlign=egret.VerticalAlign.BOTTOM;var o=this.coin(),r=this.coin();o.x=t/2-300,o.y=e/2-200,r.x=t/2+200,r.y=e/2-200;var h=RES.getRes("bounsBg"),l=new egret.Bitmap(h);this.particleEffect=this.firework(),this.particleEffect.start(),this.particleEffect.x=t/2-300,this.particleEffect.y=e/2,l.width=1200,l.height=600,l.x=t/2-600,l.y=e/2-300,n.addChild(l),n.addChild(o),n.addChild(r),n.addChild(s),n.addChild(a);var c=egret.Tween.get(n);c.to({anchorOffsetY:0},1e3).wait(2e3),c.to({alpha:0},500),c.call(this.fadeRemove,this),this.addChild(this.particleEffect),this.addChild(n)},e.prototype.fadeRemove=function(){console.log(this.parent,"remove"),this.particleEffect.stop(),this.parent.removeChildAt(1)},e.prototype.message=function(t,e,i,n,s){var a=new egret.Sprite,o=new egret.TextField,r=new egret.Shape;egret.Tween.get(a).to({x:t},1e3);return r.graphics.beginFill(16777215,.8),r.graphics.drawRect(i,n,t,e),r.graphics.endFill(),a.addChild(r),o.width=t,o.height=e,o.text=s,o.textAlign=egret.HorizontalAlign.CENTER,o.verticalAlign=egret.VerticalAlign.MIDDLE,o.textColor=16777184,o.fontFamily="Impact",a.height=e,a.mask=new egret.Rectangle(0,0,t,e),a.addChild(o),a},e}(egret.Sprite);__reflect(Effect.prototype,"Effect");var Game=function(){function t(t){this.slot=new Slot,this.gameStartCheck=!0,this.gameClickTimes=0,this.gameData=[[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6]],this.stage=t}return t.prototype.init=function(){this.slot.x=this.stage.width/2-this.slot.width/2,this.slot.y=150,this.getData(),this.refreshData(),console.log(this.gameData,"init"),this.slot.slotData=this.gameData,this.slot.loadSlotWrap(),this.stage.addChild(this.slot)},t.prototype.start=function(){this.gameClickTimes++,this.refreshData(),this.getData(),this.slot.slotData=this.gameData,console.log(this.gameData,"start"),this.slot.startSlot()},t.prototype.getData=function(){for(var t,e={1:[[1,2,3],[1,3,4],[1,5,6],[1,5,6],[1,4,6]],2:[[2,2,3],[1,2,4],[1,2,6],[1,2,6],[1,2,6]],3:[[2,4,6],[1,5,6],[1,1,6],[1,1,6],[1,5,6]],4:[[2,4,3],[1,3,6],[3,1,6],[1,3,6],[1,5,3]],5:[[2,4,6],[1,2,6],[1,1,2],[1,2,6],[2,5,6]],6:[[1,2,6],[1,2,6],[1,2,6],[1,2,6],[1,2,6]]},i=0;5>i;i++)for(var n=0;3>n;n++){var s=this.gameData[i].length;t=3==this.gameClickTimes?e[3][i][n]:5==this.gameClickTimes?e[1][i][n]:7==this.gameClickTimes?e[2][i][n]:12==this.gameClickTimes?e[6][i][n]:Math.floor(6*Math.random())+1,s>=12?(this.gameData[i].unshift(t),this.gameData[i].splice(n+1,1),this.gameData[i].pop()):this.gameData[i].unshift(t)}},t.prototype.refreshData=function(){for(var t=0;5>t;t++)for(var e=0;3>e;e++){var i=this.gameData[t].length;this.gameData[t].splice(i,0,this.gameData[t][e])}},t}();__reflect(Game.prototype,"Game");var gameStatusCheck=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=t.call(this,e,i,n)||this;return s.slotBouns=0,s}return __extends(e,t),e["static"]="遊戲輪盤運行狀態",e}(egret.Event);__reflect(gameStatusCheck.prototype,"gameStatusCheck");var LoadingUI=function(t){function e(e,i){var n=t.call(this)||this;return n.progress=new egret.Shape,n.stageW=e,n.stageH=i,n.createView(),n}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.textField.size=30,this.textField.y=500,this.textField.width=this.stageW,this.textField.height=100,this.textField.textColor=16777215,this.textField.textAlign="center",this.width=this.stageW,this.height=this.stageH,this.addChild(this.textField),this.progress.width=300,this.progress.height=20,this.progress.visible=!1,this.progress.anchorOffsetX=this.progress.width/2,this.progress.x=this.stageW/2,this.progress.y=this.stageH/2-80,this.progress.graphics.beginFill(5482895),this.progress.graphics.drawRect(0,0,300,20),this.progress.graphics.endFill(),this.addChild(this.progress)},e.prototype.loadBg=function(){var t=new egret.Bitmap,e=RES.getRes("loadBg");t.texture=e,t.width=this.stageW,t.height=this.stageH,this.addChild(t),this.setChildIndex(t,this.numChildren-3)},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e,this.progress.visible=!0;var i=Math.floor(t/e*100);this.maskBar=new egret.Rectangle(0,0,3*i,10),this.progress.mask=this.maskBar},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.loadingView=new LoadingUI(this.stage.$stageWidth,this.stage.$stageHeight),this.exmlGroup=new ExmlUi,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return RES.loadGroup("loading",1),[4,RES.loadGroup("preload",0)];case 1:return t.sent(),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),[2]}})})},e.prototype.onResourceLoadComplete=function(t){var e=this;"preload"==t.groupName?(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),setTimeout(function(){e.stage.removeChild(e.loadingView),e.createGameScene()},500)):"loading"==t.groupName&&console.log(t.groupName,"loadingFinish")},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName?this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal):"loading"==t.groupName&&this.loadingView.loadBg()},e.prototype.createGameScene=function(){var t=this.createBitmapByName("gameBg");this.addChild(t);var e=this.stage.stageWidth,i=this.stage.stageHeight;t.width=e,t.height=i,this.stage.addChild(this.exmlGroup);var n=new egret.TextField;n.text="Version: 1.0.0 ,Made BY Tom Yuan",n.textColor=16777215,n.size=23,n.width=e,n.height=i,n.textAlign=egret.HorizontalAlign.RIGHT,n.verticalAlign=egret.VerticalAlign.BOTTOM,this.stage.addChild(n)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var ExmlUi=function(t){function e(){var e=t.call(this)||this;return e.playData={balance:1e4},e.currentBet=0,e.startBtn=new eui.Button,e.infoBtn=new eui.Button,e.titleT=new eui.Label,e.titleB=new eui.Label,e.BalanceLabel=new eui.Label,e.scoreLabel=new eui.Label,e.finishTime=0,e.once(egret.Event.ADDED_TO_STAGE,e.onAdded,e),e}return __extends(e,t),e.prototype.onAdded=function(){this.themeRes=new eui.Theme("resource/exml/theme.json",this.stage),this.themeRes.addEventListener(egret.Event.COMPLETE,this.onCompleted,this)},e.prototype.onCompleted=function(){var t=new components.MyGroup,e=new components.GamePanel;this.gamePanelTitle=new components.Title,this.titleT.text="PLEASE PLACE YOUR BET !!",this.titleT.size=32,this.titleT.top=25,this.titleT.horizontalCenter=0,this.titleB.text="請選擇投注",this.titleB.size=30,this.titleB.bottom=10,this.titleB.horizontalCenter=0,this.gamePanelTitle.addChild(this.titleT),this.gamePanelTitle.addChild(this.titleB),this.gmPanelWrap=new PanelWrap(80,100),this.gmPWrapchild=new PanelWrap(100,100);var i=this.gmPanelWrap.renderV(),n=this.gmPWrapchild.renderH();this.balancePanel=new Panel(20,80),this.balancePlGroup=this.balancePanel.renderBalance(),this.BalanceLabel.text=this.playData.balance,this.BalanceLabel.size=30,this.BalanceLabel.bottom=5,this.BalanceLabel.horizontalCenter=0,this.balancePlGroup.addChild(this.BalanceLabel),this.betPanel=new Panel(80,80),this.betPlGroup=this.betPanel.renderBetting();for(var s=0;s<this.betPlGroup.$children.length;s++)s>1&&this.betPlGroup.getChildAt(s).addEventListener(Betting["static"],this.getBetting,this);i.addChild(this.gamePanelTitle),n.addChild(this.balancePlGroup),n.addChild(this.betPlGroup),i.addChild(n),e.addChild(i),e.bottom=0,this.infoPanel=new components.Info,this.infoBtn.skinName="resource/exml/infoBtn.exml",this.infoBtn.right=15,this.infoBtn.top=15;var a=this.infoPanel.getChildAt(3);this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPanel.bind(this,!0),this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPanel.bind(this,!1),this),this.startBtn.skinName="resource/exml/slotBtn.exml",this.startBtn.label="Slot",this.startBtn.right=10,this.startBtn.bottom=10,e.addChild(this.startBtn),this.startBtn.enabled=!1,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickStart,this),t.addChild(e),t.addChild(this.infoBtn),t.addChild(this.infoPanel),this.addChild(t),this.game=new Game(this.stage),this.game.init(),this.stage.setChildIndex(this.game.slot,1),this.game.slot.addEventListener(gameStatusCheck["static"],this.finish,this),this.resize(),this.stage.addEventListener(egret.Event.RESIZE,this.resize,this),this.themeRes.removeEventListener(egret.Event.COMPLETE,this.onCompleted,this)},e.prototype.resize=function(){this.height=this.stage.stageHeight,this.width=this.stage.stageWidth},e.prototype.loadPlayer=function(t){(""==t.id||t.balance<=0)&&(alert("玩家Id有誤，或餘額為零，請先儲值。"),this.startBtn.enabled=!1)},e.prototype.getBetting=function(t){this.currentBet=t.betMoney,console.log(t.betMoney,"betting"),this.betCheck(this.currentBet)},e.prototype.clickStart=function(t){this.game.start(),this.playData.balance=this.playData.balance-this.currentBet,this.BalanceLabel.text=String(this.playData.balance);for(var e=0;e<this.betPlGroup.$children.length;e++)e>1&&(this.betPlGroup.getChildAt(e).touchEnabled=!1,this.betPlGroup.getChildAt(e).alpha=.5)},e.prototype.finish=function(t){this.startBtn.enabled=t.COMPLETE,console.log(t,"evtEnd"),this.finishTime++;for(var e=this.betPlGroup.$children.length,i=0;e>i;i++)i>1&&(this.betPlGroup.getChildAt(i).touchEnabled=!0,this.betPlGroup.getChildAt(i).alpha=1);this.finishTime>1&&(this.finishTime=0,t.slotBouns>0&&(this.startBtn.enabled=!1,this.effect=new Effect,this.effect.bounsMeg(this.width,this.height,""+t.slotBouns*this.currentBet),this.addChild(this.effect),setTimeout(function(){this.startBtn.enabled=!0},2e3),this.playData.balance=this.playData.balance+t.slotBouns*this.currentBet,this.BalanceLabel.text=String(this.playData.balance)))},e.prototype.betCheck=function(t){this.playData.balance>=t?(this.startBtn.enabled=!0,this.titleT.text="YOUR BET : ",this.titleB.text=String(t)):(this.startBtn.enabled=!1,this.titleT.text="YOUR BALANCE IS NOT ENOUGH!!",this.titleB.text="你的餘額不夠")},e.prototype.showPanel=function(t){console.log(t,"st"),this.infoPanel.visible=t},e}(eui.UILayer);__reflect(ExmlUi.prototype,"ExmlUi");var Panel=function(){function t(t,e){var i='<e:Group width="'+t+'%" height="'+e+'%" xmlns:e="http://ns.egret.com/eui"><e:Image source="resource/exml/image/panelY.png" width="100%" height="100%" scale9Grid="30,31,40,41" /></e:Group>',n=EXML.parse(i);this.panelGroup=new n}return t.prototype.renderBalance=function(){var t=new eui.Label,e=new eui.Label;return t.text="Balance",t.top=12,t.size=20,t.horizontalCenter=0,e.size=20,e.horizontalCenter=0,e.text="餘額:",e.top=30,this.panelGroup.addChild(t),this.panelGroup.addChild(e),this.panelGroup},t.prototype.renderBetting=function(){var t=[400,800,1200,1600,2e3],e=new eui.Label;e.text="Bet 投注額:",e.size=30,e.left=15,e.verticalCenter=0,this.panelGroup.addChild(e);for(var i=0;i<t.length;i++){var n=new BetBtn(t[i]);n.left=100*i+250,this.panelGroup.addChild(n)}return this.panelGroup},t}();__reflect(Panel.prototype,"Panel");var Betting=function(t){function e(e,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)||this}return __extends(e,t),e["static"]="下注",e}(egret.Event);__reflect(Betting.prototype,"Betting");var BetBtn=function(t){function e(e){var i=t.call(this)||this;return i.skinName="skins.betBtnRSkin",i.verticalCenter=0,i.bettingValue=e,i.name="BetBtn",i.label=e,i.Bet=new Betting(Betting["static"]),i.Bet.betMoney=e,i.addEventListener(egret.TouchEvent.TOUCH_TAP,i.sendBetting,i),i}return __extends(e,t),e.prototype.sendBetting=function(){this.dispatchEvent(this.Bet)},e}(eui.Button);__reflect(BetBtn.prototype,"BetBtn");var PanelWrap=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.renderV=function(){var t='<e:Group width="'+this.width+'%" height="'+this.height+'%" xmlns:e="http://ns.egret.com/eui"><e:layout>\n        <e:VerticalLayout  horizontalAlign="middle" verticalAlign ="middle"/>\n    </e:layout></e:Group>',e=EXML.parse(t);return this.Group=new e,this.Group},t.prototype.renderH=function(){var t='<e:Group width="'+this.width+'%" height="'+this.height+'%" maxHeight="115" xmlns:e="http://ns.egret.com/eui"><e:layout>\n        <e:HorizontalLayout  horizontalAlign="middle" verticalAlign ="middle"/>\n    </e:layout></e:Group>',e=EXML.parse(t);return this.Group=new e,this.Group},t}();__reflect(PanelWrap.prototype,"PanelWrap");var Player=function(){function t(){}return t.prototype.init=function(){},t}();__reflect(Player.prototype,"Player");var Slot=function(t){function e(){var e=t.call(this)||this;return e.startRun=!1,e.animateFinishCheck=0,e.gameStatus=new gameStatusCheck(gameStatusCheck["static"]),e.width=1200,e.height=700,e}return __extends(e,t),e.prototype.loadSlotWrap=function(){var t=RES.getRes("slotBorder"),e=RES.getRes("slotTitle");this.slotBorder=new egret.Bitmap(t),this.slotTitle=new egret.Bitmap(e),this.slotBorder.width=this.width,this.slotBorder.height=this.height,this.slotTitle.scaleX=.4,this.slotTitle.scaleY=.4,this.slotTitle.x=this.width/2-this.slotTitle.width/2*.4,this.slotTitle.y=-this.slotTitle.height/2.5*.4;var i=new egret.Shape;i.graphics.beginFill(16777215,1),i.graphics.drawRect(0,0,this.width,this.height),i.graphics.endFill(),this.addChild(i),this.loadSlotData(),this.addChild(this.slotBorder),this.addChild(this.slotTitle)},e.prototype.loadSlotData=function(){var t=4.3,e=70;this.iconContentWrap=new egret.Sprite,this.iconContentWrap.width=this.width,this.iconContentWrap.height=this.height,this.iconContentWrap.mask=new egret.Rectangle(0,0,this.width,this.height);for(var i=0;i<this.slotData.length;i++){if(i>0){var n=new egret.Shape;n.graphics.lineStyle(3,11184810),n.graphics.moveTo(0,0),n.graphics.lineTo(0,this.height),n.graphics.endFill(),n.x=i*this.width/this.slotData.length,this.addChild(n)}if(this.iconContent=new iconContainer(this.slotData[i]),this.iconContent.width=this.width/this.slotData.length,this.iconContent.height=this.height,this.iconContent.x=i*this.width/this.slotData.length-e,this.iconContent.y=-(256*(this.slotData[i].length-t)),1==this.startRun){this.iconContent.scrollAnimate=egret.Tween.get(this.iconContent,{loop:!0}),this.iconContent.scrollAnimate.to({y:60},500);var s=new egret.Timer(500*(i+1),1);s.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.finishCallBack,this),s.start()}this.iconContent.scaleX=.75,this.iconContent.scaleY=.75,this.iconContentWrap.addChild(this.iconContent)}this.addChild(this.iconContentWrap)},e.prototype.startSlot=function(){this.startRun=!0,this.removeChildren(),this.loadSlotWrap(),this.gameStatus.COMPLETE=!1,this.dispatchEvent(this.gameStatus)},e.prototype.finishCallBack=function(){var t=this.iconContentWrap.getChildAt(this.animateFinishCheck);t.scrollAnimate.loop=!1,t.scrollAnimate.wait(500*this.animateFinishCheck),t.scrollAnimate.to({y:35},250),this.animateFinishCheck++,5==this.animateFinishCheck&&(this.animateFinishCheck=0,this.showResult())},e.prototype.showResult=function(){this.startRun=!1;for(var t=!0,e=!0,i=!0,n=0;n<this.slotData.length;n++){var s=this.slotData[n][0],a=this.slotData[n][1],o=this.slotData[n][2];n+1<this.slotData.length&&(s!=this.slotData[n+1][0]&&(t=!1),a!=this.slotData[n+1][1]&&(e=!1),o!=this.slotData[n+1][2]&&(i=!1))}if(this.gameStatus.slotBouns=0,1==t){this.effect=new Effect;for(var n=0;n<this.iconContentWrap.$children.length;n++){var r=this.iconContentWrap.getChildAt(n),h=r.getChildAt(0),l=egret.Tween.get(h.getChildAt(0),{loop:!0});l.to({scaleX:.9,scaleY:.9},1e3),l.to({scaleX:1,scaleY:1},1e3),h.getChildAt(0).filters=[this.effect.addfilters(16766720)]}this.addChild(this.effect.drawLine(1200,200,0,700/3*.5,16766720)),this.gameStatus.slotBouns+=2.5}if(1==e){this.effect=new Effect;for(var n=0;n<this.iconContentWrap.$children.length;n++){var r=this.iconContentWrap.getChildAt(n),h=r.getChildAt(0),l=egret.Tween.get(h.getChildAt(1),{loop:!0});l.to({scaleX:.9,scaleY:.9},1e3),l.to({scaleX:1,scaleY:1},1e3),h.getChildAt(1).filters=[this.effect.addfilters(3394815)]}this.addChild(this.effect.drawLine(1200,200,0,350,3394815)),this.gameStatus.slotBouns+=2}if(1==i){this.effect=new Effect;for(var n=0;n<this.iconContentWrap.$children.length;n++){var r=this.iconContentWrap.getChildAt(n),h=r.getChildAt(0),l=egret.Tween.get(h.getChildAt(2),{loop:!0});l.to({scaleX:.9,scaleY:.9},1e3),l.to({scaleX:1,scaleY:1},1e3),h.getChildAt(2).filters=[this.effect.addfilters(16716947)]}this.addChild(this.effect.drawLine(1200,200,0,600,16716947)),this.gameStatus.slotBouns+=1.5}this.gameStatus.COMPLETE=!0,this.dispatchEvent(this.gameStatus)},e}(egret.Sprite);__reflect(Slot.prototype,"Slot");var iconContainer=function(t){function e(e){var i=t.call(this)||this;return i.iconMAP=[],i.iconMAP=e,RES.getResAsync("slotIconMap",i.loadIconMap,i),i}return __extends(e,t),e.prototype.loadIconMap=function(t){this.slotIconContent=new egret.Sprite;for(var e,i=t.frames,n=0,s=0;s<this.iconMAP.length;s++){switch(this.iconMAP[s]){case 1:e=this.addIcon(i.cherry.x,i.cherry.y,i.cherry.w,i.cherry.h),e.x=i.cherry.w/2+2*i.cherry.offX,e.y=256*s+i.cherry.offY+n;break;case 2:e=this.addIcon(i.diamond.x,i.diamond.y,i.diamond.w,i.diamond.h),e.x=i.diamond.w/2+2*i.diamond.offX,e.y=256*s+i.diamond.offY+n;break;case 3:e=this.addIcon(i.grape.x,i.grape.y,i.grape.w,i.grape.h),e.x=i.grape.w/2+2*i.grape.offX,e.y=256*s+i.grape.offY+n;break;case 4:e=this.addIcon(i.heart.x,i.heart.y,i.heart.w,i.heart.h),e.x=i.heart.w/2+2*i.heart.offX,e.y=256*s+i.heart.offY+n;break;case 5:e=this.addIcon(i.orange.x,i.orange.y,i.orange.w,i.orange.h),e.x=i.orange.w/2+2*i.orange.offX,e.y=256*s+i.orange.offY+n;break;case 6:e=this.addIcon(i.seven.x,i.seven.y,i.seven.w,i.seven.h),e.x=i.seven.w/2+2*i.seven.offX,e.y=256*s+i.seven.offY+n}n+=40,this.slotIconContent.addChild(e)}this.slotIconContent.width=this.width,this.slotIconContent.height=this.height,this.addChild(this.slotIconContent)},e.prototype.addbg=function(){this.slotBg=new egret.Shape,this.slotBg.graphics.beginFill(16777215,1),this.slotBg.graphics.drawRect(0,0,this.width,this.height),this.slotBg.graphics.endFill(),this.addChild(this.slotBg)},e.prototype.addIcon=function(t,e,i,n){var s=RES.getRes("slotIcon"),a=(new egret.BitmapData(s),new egret.SpriteSheet(s)),o=a.createTexture("slotIcon",t,e,i,n),r=new egret.Bitmap(o);return r},e}(egret.Sprite);__reflect(iconContainer.prototype,"iconContainer");